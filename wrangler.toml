#:schema node_modules/wrangler/config-schema.json
name = "tg-worker-filestream"
main = "src/index.ts"
compatibility_date = "2025-12-24"
compatibility_flags = ["nodejs_compat"]

[[durable_objects.bindings]]
name = "STREAMER"
class_name = "StreamerDO"

[[migrations]]
tag = "v1"
new_sqlite_classes = ["StreamerDO"]

[vars]
# Optional: number of Durable Object shards for parallel-range downloads.
# Higher = better parallelism (more DO instances), but more concurrent connections.
SHARDS = "16"
